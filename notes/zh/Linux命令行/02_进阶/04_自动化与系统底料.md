# 🤖 自动化与系统底料 (Automation & System Limits)

## 1. Crontab - 定时任务 (自动化核心)
Linux 的“闹钟”，让系统在指定时间自动运行脚本。

- **核心命令**：
  - `crontab -e`：编辑当前用户的定时任务。
  - `crontab -l`：列出当前所有任务。
  - `crontab -r`：删除所有任务 (慎用！建议用 `-e` 注释掉)。

- **语法逻辑 (5 个星号)**：
  `* * * * * command`
  (分 时 日 月 周)
  - `0 2 * * * /path/backup.sh`：每天凌晨 2 点备份。
  - `*/15 * * * *`：每 15 分钟运行一次。

- **💡 避坑指南**：
  1. **必须使用绝对路径**：Crontab 环境没有你的 PATH 变量，`python` 要写成 `/usr/bin/python3`。
  2. **末尾重定向日志**：`* * * * * /cmd >> /tmp/cron.log 2>&1`，否则报错你根本看不见。

---

## 2. 硬件与系统信息
当别人问你“这服务器什么配置”时，用这几招：
- `lscpu`：查看 CPU 核心数、架构、主频。
- `lsusb` / `lspci`：查看外接设备和 PCI 设备（显卡、网卡）。
- `lsblk`：查看磁盘挂载和分区结构（之前已提过，这里作为回顾）。
- `free -h`：查看内存（不仅看 Total，更要看 **Available**）。

---

## 3. ulimit - 系统资源限制
**场景**：程序报错 "Too many open files" 或 "Out of memory"。
- `ulimit -a`：显示当前用户的所有资源限制。
- `ulimit -n 65535`：临时增加最大打开文件数。
- **永久修改**：需编辑 `/etc/security/limits.conf`。

---

## 4. 环境变量深度技巧
- **`env`**：列出当前所有环境变量。
- **`export PATH=$PATH:/your/path`**：将新路径加入环境变量。
- **💡 逻辑**：
  - `~/.bashrc`：仅对当前终端生效。
  - `/etc/profile`：对全局生效。
  - **修改后必须执行 `source` 文件名** 才能立即生效。
